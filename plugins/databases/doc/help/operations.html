<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="QReal:Databases, help, mannual, user guide" />
<meta name="description" content="QReal:Databases help center" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Запуск программ в QReal:Databases</title>
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
<script type="text/javascript" src="version.js"></script>
</head>

<!-- TODO: move contents, header and footer into common separate files -->
<body>
<div id="wrapper">
	<div id="banner-wrapper">
		<div id="logo" class="container">
			<p>Справка - QReal:Databases %version%</p>
		</div>
		<div class="container">
			<center><img src="pics/kroki.png" width="600" height="250" alt="" /></center>
		</div>
	</div>
	<div id="page" class="container">
		<div id="sidebar">
			<div>
				<h2>Содержание:</h2>
					<ul class="list-style2">
					<li><a href="interface.html">Пользовательский интерфейс</a></li>
						<ul>
							<li><a href="interface.html#main_menu">Главное меню</a></li>
							<li><a href="interface.html#preferences">Диалог настроек</a></li>
						</ul>
					<li><a href="modelling.html">Моделирование</a></li>
						<ul>
							<li><a href="modelling.html#diagram_creation">Создание диаграмм</a></li>
							<li><a href="modelling.html#elements_and_relationships_creation">Создание элементов и связей</a></li>
							<li><a href="modelling.html#property_editing">Редактирование свойств элементов</a></li>
						</ul>
					<li><a href="operations.html">Работа с БД</a></li>
						<ul>
							<li><a href="operations.html#correctness_checking">Проверка диаграмм на корректность</li>
							<li><a href="operations.html#physical_model_generation">Генерация физической схемы БД из логической схемы</li>
							<li><a href="operations.html#sql_code_generation">Генерация SQL-кода из логической схемы</li>
							<li><a href="operations.html#reverse_engineering">Обратное проектирование</li>
						</ul>
					<li><a href="lang.html">Описание языков</a></li>
						<ul>
							<li><a href="lang.html#logical_lang">Язык логической схемы БД</a></li>
							<li><a href="lang.html#physical_lang">Язык физической схемы БД</a></li>
						</ul>
				</ul>
			</div>
		</div>		
		<div id="content">
			<div class="post">
				<h2 class="title">Работа с БД<a href="#"></a></h2>
			</div>
			
			<h3><a name="correctness_checking">Проверка диаграмм на корректность</a></h3>
			Логическую схему БД можно проверить на частичную корректность. 
			Запустить генерацию можно двумя способами: выбрать соответствующий пункт на панели инструментов или через 
			меню "Инструменты". 
			
			<br/><br/>
			<center><img src="pics/checking_correctness_menu.png" width="560px" alt="Генерация физической модели в меню" /></center>
			<br/>
			
			После нажатия на кнопку верификатор проверяет диаграммы проекта и выдаёт сообщения о всех найденных ошибках. 
			</div>

			<br/><br/>
			<img src="pics/verification_with_errors.png" width=60% alt="Проверка диаграммы с ошибками">
			<br/><br/>

			<div>
			Если ошибок не было обнаружено, верификатор выведет сообщение том, что данная диаграмма или диаграммы корректны:
			</div>
			
			<div align="left">
				<img src="pics/verification_without_errors.png" width=60% alt="Проверка корректной диаграммы">
			</div>

			<br/>
			Верификатор включает в себя следующие проверки:
			<li> Непустота имени сущностей
			<li> Непустота имени и типа данных атрибутов
			<li> Наличие сущностей на концах у отношений
			<li> Наличие атрибутов у сущности
			
			<br/>
			<br/>
			
			
			<h3><a name="physical_model_generation">Генерация физической схемы БД из логической схемы</a></h3>
			
			<h4>Запуск генерации</h4>
			
			Из логической схемы БД можно сгенерировать физическую схему.
			Для этого в настройках проекта необходимо указать имя желаемой СУБД (см. раздел <a href="interface.html#preferences">Настройки</a>).
			Запустить генерацию можно двумя способами: выбрать соответсвующий пунк на панели инструментов или через меню "Инструменты". 
			
			<center><img src="pics/generate_physical_model_menu.png" width="600" alt="Генерация физической модели в меню" /></center>
			
			При обнаружении ошибок информация о них появится в окне сообщений:
			
			<center><img src="pics/physical_model_generation_with_errors.png" width=80% alt="Генерация физической модели из логической с ошибками" /></center>
			
			Если генерация пройдет успешно, создастся новая диаграмма с физической схемой и появится соответсвующее сообщение:
			<center><img src="pics/physical_model_generation_without_errors.png" width=80% alt="Генерация физической модели из логической без ошибок" /></center>
			
			<h4>Логика генерации</h4>
			
			При генерации физической модели к элементам логической модели добавляются свойства, которые можно менять в конкретной СУБД.
			Так, например, свойство элемента "Таблица" "temp" не поддерживается #имясубд, но поддерживается в #имясубд2 (см. раздел).
			Соответственно, если сгенерировать физическую модель для #имясубд2, то возможность редактировать это свойство будет, а если сгенерировать для #имясубд - нет.
			
			Сущности и отношения превращаются при генерации в таблицы по следующим правилам:
			
			1) Связь "один-к-одному" соединяет две сущности в одну таблицу.
			<center><img src="pics/one-to-one_example.png" alt="Пример генерации схемы со связью один-к-одному" /></center>
			
			2) Связь "один-ко-многим" создает для каждой сущности отдельную таблицу и добавляет к сущности с концом "много" столбец с ключом второй сущности.
			<center><img src="pics/one-to-many_example.png" alt="Пример генерации схемы со связью один-ко-многим" /></center>
			
			3) Связь "многие-ко-многим" создает для каждой сущности отдельную таблицу и новую таблицу, содержащую ключи связываемых сущностей.
			<center><img src="pics/many-to-many_example.png" alt="Пример генерации схемы со связью многие-ко-многим" /></center>
			
			4) Во всех остальных случаях сущность становится таблицей.
			
			
			<br/>
			<br/>
			<br/>
			
			<h3><a name="sql_code_generation">Генерация SQL-кода из логической схемы</a></h3>
			<h4>Запуск генерации</h4>
			Из физической схемы можно сгенерировать SQL-скрипты, которые создают нарисованную БД.
			Для этого в настройках проекта необходимо указать имя желаемой СУБД (см. раздел <a href="interface.html#preferences">Настройки</a>).
			Запустить генерацию можно двумя способами: выбрать соответсвующий пунк на панели инструментов или через меню "Инструменты". 
			<center><img src="pics/sql_code_generation_menu.png" width="600" alt="Генерация физической модели в меню" /></center>
			
			При обнаружении ошибок информация о них появится в окне сообщений:
			
			<center><img src="pics/sql_code_generation_with_errors.png" width=80% alt="Генерация физической модели из логической с ошибками" /></center>
			
			Если генерация пройдет успешно, создастся новая диаграмма с физической схемой и появится соответсвующее сообщение:
			<center><img src="pics/sql_code_generation_without_errors.png" width=80% alt="Генерация физической модели из логической без ошибок" /></center>
			
	
			<h4>Логика генерации</h4>
			Для каждой таблицы генерируется скрипт CREATE TABLE, содержащий столбцы таблицы. 
			Указанные свойства таблицы и столбцов располагаются в скрипте на соответствующем месте.
			
			<h3><a name="reverse_engineering">Обратное проектирование</a></h3>
			Для СУБД Sqlite и Microsoft Access существует возможность обратного проектирования по файлу, содержащему БД.
			Для запуска генерации необходимо выбрать соответствующий пункт меню.
			
			<center><img src="pics/reverse_engineering_menu.png" width="600" alt="Генерация физической модели в меню" /></center>
			
			Затем необходимо выбрать одну из СУБД и загрузить файл для обратного проектирования.
			<center><img src="pics/reverse_engineering_dialog.png" alt="Генерация физической модели в меню" /></center>
			
			При обнаружении ошибок информация о них появится в окне сообщений:
			<img src="pics/reverse_engineering_with_errors.png" alt="Генерация физической модели в меню" />
			
			Если обратное проектировании совершено успешно, появится соответствующее сообщение:
			<img src="pics/reverse_engineering_without_errors.png" alt="Генерация физической модели в меню" />
			

		</div>
		<!-- end #content -->
		<div style="clear: both;">&nbsp;</div>
	</div>
	<!-- end #page -->
</div>
<div id="footer">
	<p>© %year% QReal Inc. All rights reserved. </p>
</div>
<!-- end #footer -->
</body>
</html>
